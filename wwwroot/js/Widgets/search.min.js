"use strict";(function(){function i(i){function u(n,t,i){var r=n.getAttribute("data-sf-search-query")||"",o=n.getAttribute("data-sf-search-catalogue")||"",s=n.getAttribute("data-sf-words-mode")||"",h=i||n.getAttribute("data-sf-language")||"",c=t||n.getAttribute("data-sf-sorting")||"",u=n.getAttribute("data-sf-scoring-info"),f=n.getAttribute("data-sf-results-all"),e=n.getAttribute("data-sf-filter"),r="?searchQuery="+r+"&indexCatalogue="+o+"&wordsMode="+s+"&sf_culture="+h+"&orderBy="+c;u&&(r=r+"&scoringInfo="+u);e&&(r=r+"&filter="+e);f=="True"?r+="&resultsForAllSites=True":f=="False"&&(r+="&resultsForAllSites=False");window.location.search=r}function f(){var n=i.querySelectorAll("[data-sf-role='search-results']");n.forEach(function(n){var t=n.querySelector(".userSortDropdown");t&&(t.querySelectorAll("option").forEach(function(t){t.selected=t.value==n.getAttribute("data-sf-sorting")}),t.addEventListener("change",function(t){var i=t.target.value;u(n,i)}));n.addEventListener("click",function(t){if(t.target.getAttribute("data-sf-role")==="search-results-language"){var i=t.target.getAttribute("data-sf-language");i&&u(n,undefined,i)}})})}function o(n){var i=window.location.search,r=new Querystring(i.substring(1,i.length)),t=r.get("filter");t=t?t:"";n.setAttribute("data-sf-filter",t)}function s(){i.addEventListener("beginLoadingSearchResults",function(){e(!0)})}function e(t){var u=i.getElementById(n),f=u.querySelectorAll("[data-sf-hide-while-loading='true']"),e;f.length>0?f.forEach(function(n){n.style.display=t?"none":"block"}):u.style.display=t?"none":"block";e=i.getElementById(r);e.style.display=t?"block":"none"}i.addEventListener("searchResultsLoaded",function(r){var s,u,h,c,l;r.detail&&r.detail.searchResultsPageDocument&&(s=r.detail.searchResultsPageDocument,u=i.getElementById(n),u&&(h=s.getElementById(n),h&&(u.innerHTML=h.innerHTML,c=i.getElementById(t),c&&(l=s.getElementById(t),l&&(c.innerHTML=l.innerHTML)),o(u),f())));e(!1)});f();s()}var n="sf-search-result-container",t="sf-search-result-pager",r="sf-search-results-loading-indicator";document.addEventListener("widgetLoaded",function(n){n.detail.model.Name==="SitefinitySearchResults"&&i(n.detail.element)});document.addEventListener("DOMContentLoaded",function(){i(document)})})(window.$eloSearch=window.$eloSearch||{});